{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\10647616\\\\Downloads\\\\time_entry\\\\time_entry\\\\frontend\\\\src\\\\core\\\\AddTask.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport Base from '../core/Base';\nimport { getProjects } from './helper/coreapicalls';\nimport { signup, isAuthenticated, addTaskFunc } from '../auth/helper/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddTask = () => {\n  _s();\n\n  const [values, setValues] = useState({\n    task_name: '',\n    task_description: '',\n    project: '',\n    task_start: '',\n    task_end: '',\n    error: '',\n    success: false\n  });\n  const [timer, setTimer] = useState(false);\n  const [allProjects, setAllProjects] = useState([]);\n  const {\n    task_name,\n    task_description,\n    project,\n    task_start,\n    task_end,\n    error,\n    success\n  } = values;\n  const id = isAuthenticated && isAuthenticated().user.id; //   useEffect(() => {\n  //     projectGetter(id);\n  // })\n\n  const handleChange = name => event => {\n    setValues({ ...values,\n      error: false,\n      [name]: event.target.value\n    });\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n\n    if (task_start === '' && task_end === '') {\n      setValues({ ...values,\n        task_start: null,\n        task_end: null,\n        error: false\n      });\n    }\n\n    addTaskFunc({\n      task_name,\n      task_description,\n      project,\n      task_start,\n      task_end\n    }, id).then(data => {\n      console.log('DATA', data);\n\n      if (data.success) {\n        setValues({ ...values,\n          task_name: '',\n          task_description: '',\n          task_start: '',\n          task_end: '',\n          error: '',\n          success: true\n        });\n      } else {\n        setValues({ ...values,\n          error: true,\n          success: false\n        });\n      }\n    }).catch(e => console.log(e));\n  };\n\n  const successMessage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 offset-sm-3 text-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-success\",\n          style: {\n            display: success ? \"\" : \"none\"\n          },\n          children: [\"New Task created successfully. \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Go To Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 56\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this);\n  };\n\n  const errorMessage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 offset-sm-3 text-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger\",\n          style: {\n            display: error ? \"\" : \"none\"\n          },\n          children: \"Check all fields again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  };\n\n  const projectGetter = id => {\n    getProjects(id).then(data => {\n      console.log('DATA', JSON.stringify(data));\n\n      if (data) {\n        setAllProjects(data);\n      }\n\n      ;\n    }).catch(e => console.log(e));\n  };\n\n  const setTimerFunc = () => {\n    // event.preventDefault();\n    // set_timer = !set_timer\n    setTimer(!timer);\n  };\n\n  const signUpForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 offset-sm-3 text-left\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-light\",\n              children: \"Task Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              value: task_name,\n              onChange: handleChange('task_name'),\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-light\",\n              children: \"Task Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control input-lg\",\n              value: task_description,\n              onChange: handleChange('task_description'),\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-light lead\",\n              children: \"Project\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 81\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control form-select\",\n              onChange: handleChange('project'),\n              \"aria-label\": \"Default select example\",\n              children: allProjects.map(proj => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: proj.id,\n                  children: proj.name\n                }, proj.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 33\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-check\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-check-input lg\",\n              type: \"checkbox\",\n              onChange: setTimerFunc,\n              id: \"Check1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-check-label\",\n              for: \"Check1\",\n              children: \"Set timer for this task\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 31\n          }, this), !timer ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"daytime-start\",\n              children: \"Task started at (date and time):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"datetime-local\",\n                onChange: handleChange('task_start'),\n                id: \"daytime-start\",\n                name: \"daytime-start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"daytime-end\",\n              children: \"Task ended at (date and time):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"datetime-local\",\n                onChange: handleChange('task_end'),\n                id: \"daytime-end\",\n                name: \"daytime-end\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 28\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onSubmit,\n            className: \"btn btn-success btn-block\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isAuthenticated() ? /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/signin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 34\n    }, this) : /*#__PURE__*/_jsxDEV(Base, {\n      title: \"Sign Up Page\",\n      description: \"A signup for Nerdy User\",\n      children: [projectGetter(id), successMessage(), errorMessage(), signUpForm(), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white text-center\",\n        children: [JSON.stringify(values), JSON.stringify(timer), JSON.stringify(allProjects)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 7\n  }, this);\n};\n\n_s(AddTask, \"Y5+YJcVUC41sS4ggXIDQdOu1iZw=\");\n\n_c = AddTask;\nexport default AddTask;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddTask\");","map":{"version":3,"sources":["C:/Users/10647616/Downloads/time_entry/time_entry/frontend/src/core/AddTask.js"],"names":["React","useState","useEffect","Link","Redirect","Base","getProjects","signup","isAuthenticated","addTaskFunc","AddTask","values","setValues","task_name","task_description","project","task_start","task_end","error","success","timer","setTimer","allProjects","setAllProjects","id","user","handleChange","name","event","target","value","onSubmit","preventDefault","then","data","console","log","catch","e","successMessage","display","errorMessage","projectGetter","JSON","stringify","setTimerFunc","signUpForm","map","proj"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport Base from '../core/Base';\r\nimport {getProjects} from './helper/coreapicalls'\r\nimport {signup, isAuthenticated,addTaskFunc} from '../auth/helper/index'\r\n\r\n\r\nconst AddTask = () =>{\r\n    const [values, setValues] = useState({\r\n        task_name : '',\r\n        task_description : '',\r\n        project : '',\r\n        task_start : '',\r\n        task_end : '',\r\n        error : '',\r\n        success : false,\r\n    });\r\n\r\n    const [timer, setTimer] = useState(false)\r\n    const [allProjects, setAllProjects] = useState([])\r\n\r\n    const {task_name, task_description, project, task_start, task_end,error, success} = values;\r\n    const id = isAuthenticated && isAuthenticated().user.id;\r\n\r\n  //   useEffect(() => {\r\n  //     projectGetter(id);\r\n  // })\r\n\r\n    const handleChange = (name) => (event) =>{\r\n        setValues({...values, error:false, [name]: event.target.value});\r\n    };\r\n\r\n    const onSubmit = (event) =>{\r\n        event.preventDefault();\r\n        if (task_start === '' && task_end === ''){setValues({...values, task_start : null , task_end : null,error:false});}\r\n        \r\n        addTaskFunc({task_name, task_description, project, task_start, task_end}, id)\r\n        .then((data) => {\r\n            console.log('DATA', data);\r\n            if (data.success){\r\n                setValues({\r\n                    ...values,\r\n                    task_name:'',\r\n                    task_description:'',\r\n                    task_start:'',\r\n                    task_end:'',\r\n                    error:'',\r\n                    success: true\r\n                })\r\n            }else{\r\n                setValues({\r\n                    ...values,\r\n                    error: true,\r\n                    success: false\r\n                })\r\n            }\r\n        })\r\n        .catch((e) => console.log(e));\r\n    };\r\n\r\n    const successMessage = () => {\r\n        return (\r\n            <div className = 'row'>\r\n                <div className = 'col-md-6 offset-sm-3 text-left'>\r\n                    <div className = 'alert alert-success' style = {{display : success ? \"\" : \"none\"}}>\r\n                        New Task created successfully. <Link to = '/'>Go To Home</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const errorMessage = () => {\r\n        return (\r\n            <div className = 'row'>\r\n                <div className = 'col-md-6 offset-sm-3 text-left'>\r\n                    <div className = 'alert alert-danger' style = {{display : error ? \"\" : \"none\"}}>\r\n                        Check all fields again\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n    \r\n    const projectGetter = (id) =>{\r\n      getProjects(id)\r\n      .then((data) => {\r\n        console.log('DATA', JSON.stringify(data));\r\n        if (data){\r\n          setAllProjects(data)};      \r\n      }).catch((e) => console.log(e))\r\n    };\r\n\r\n    const setTimerFunc = () =>{\r\n      // event.preventDefault();\r\n      // set_timer = !set_timer\r\n      setTimer(!timer)\r\n    }\r\n\r\n    const signUpForm = () => {\r\n        return (\r\n            <div className = 'row'>\r\n                <div className ='col-md-6 offset-sm-3 text-left'>\r\n                    <form>\r\n                        <div className = 'form-group'>\r\n                            <label className = 'text-light'>Task Name</label>\r\n                            <input \r\n                            className = 'form-control'\r\n                            value = {task_name}\r\n                            onChange = {handleChange('task_name')}\r\n                            type = 'text'/>\r\n                        </div>\r\n                        <div className = 'form-group'>\r\n                            <label className = 'text-light'>Task Description</label>\r\n                            <input \r\n                            className = 'form-control input-lg'\r\n                            value = {task_description}\r\n                            onChange = {handleChange('task_description')}\r\n                            type = 'text'/>\r\n                        </div>\r\n                        <div className = 'form-group'>\r\n                            <label className = 'text-light lead'>Project</label><br/>\r\n                            <select className=\"form-control form-select\" onChange = {handleChange('project')} aria-label=\"Default select example\">\r\n                            {allProjects.map((proj) =>{\r\n                              return(\r\n                                <option  key = {proj.id} value={proj.id}>{proj.name}</option>\r\n                              )\r\n                            }) }\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"form-check\">\r\n                        <input className=\"form-check-input lg\" type=\"checkbox\" onChange = {setTimerFunc} id=\"Check1\"/>\r\n                        <label className=\"form-check-label\" for=\"Check1\">\r\n                          Set timer for this task\r\n                        </label>\r\n                        </div><br/>\r\n                        {(!timer) ?                        \r\n                          (<div>\r\n                          <label for=\"daytime-start\">Task started at (date and time):</label>\r\n                          <div className = 'form-group'>\r\n                          <input type=\"datetime-local\" onChange = {handleChange('task_start')} id=\"daytime-start\" name=\"daytime-start\"/>\r\n                          </div><br/>\r\n                          <label for=\"daytime-end\">Task ended at (date and time):</label>\r\n                          <div className = 'form-group'>\r\n                          <input type=\"datetime-local\" onChange = {handleChange('task_end')} id=\"daytime-end\" name=\"daytime-end\"/>\r\n                          </div>\r\n                          </div>\r\n                          ):\r\n                          <div>\r\n\r\n                          </div>\r\n                            \r\n                        }\r\n                        <button onClick={onSubmit} className = 'btn btn-success btn-block'>Submit</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    };\r\n\r\n    return(\r\n      <div>\r\n          {!isAuthenticated() ? (<Redirect to = '/signin' />) :\r\n      (<Base title = 'Sign Up Page' description = 'A signup for Nerdy User'>\r\n          {projectGetter(id)}\r\n          {successMessage()}\r\n          {errorMessage()}\r\n          {signUpForm()}\r\n          <p className = 'text-white text-center'>\r\n              {JSON.stringify(values)}\r\n              {JSON.stringify(timer)}\r\n              {JSON.stringify(allProjects)}\r\n          </p> \r\n      </Base>)}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default AddTask\r\n"]},"metadata":{},"sourceType":"module"}